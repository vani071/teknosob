title = "homepage"
url = "/:page?"
layout = "Teknosob"
meta_title = "Teknosob | Sobat Melek Teknologi"
is_hidden = 0
robot_index = "index"
robot_follow = "follow"

[slider]

[blogPosts]
pageNumber = "{{ :page }}"
categoryFilter = "{{ :slug }}"
postsPerPage = 3
noPostsMessage = "No posts found"
sortOrder = "published_at desc"
categoryPage = "cat"
postPage = "article"
==
{% partial "main-slider" %}

{% set posts = blogPosts.posts %}

<ul class="list-group post-list-custom">
    {% for post in posts %}
        <li class="list-group-item border-0">
            {% for image in post.featured_images|slice(0,1) %}
                <div class="cp-thumb" onclick="location.href = '{{ post.url }}';"><img src="{{image.path}}" alt=""></div>
            {% endfor %}
            <h4><a href="{{ post.url }}">{{ post.title }}</a></h4>

            <p class="info">
                <!-- Posted -->
                <!-- {% if post.categories.count %} in {% endif %} -->
                {% for category in post.categories %}
                    <!-- <a href="{{ category.url }}">{{ category.name }}</a>{% if not loop.last %}, {% endif %} -->
                {% endfor %}
                <!-- on  -->
                {{ post.published_at|date(' d M Y') }}
            </p>

            <p class="excerpt">{{ post.summary|raw }}</p>
        </li>
    {% else %}
        <li class="no-data">{{ blogPosts.noPostsMessage }}</li>
    {% endfor %}
</ul>

{% if posts.lastPage > 1 %}
  <ul class="page pagination justify-content-center pt-5 pb-3">
        {% if posts.currentPage > 1 %}
            <li class="page-item">
                <a class="page-link background-primary-color border-0" href="{{ this.page.baseFileName|page({ (blogPosts.pageParam): (posts.currentPage-1) }) }}">Previous</a>
            </li>
        {% endif %}

        {% for page in 1..posts.lastPage %}
            <li class="page-item {{ posts.currentPage == page ? 'active' : null }}">
                <a class="page-link background-primary-color border-0" href="{{ this.page.baseFileName|page({ (blogPosts.pageParam): page }) }}">{{ page }}</a>
            </li>
        {% endfor %}

        {% if posts.lastPage > posts.currentPage %}
            <li class="page-item">
                <a class="page-link background-primary-color border-0" href="{{ this.page.baseFileName|page({ (blogPosts.pageParam): (posts.currentPage+1) }) }}">Next</a>
            </li>
        {% endif %}
  </ul>
{% endif %}